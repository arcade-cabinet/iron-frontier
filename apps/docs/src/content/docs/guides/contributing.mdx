---
title: Contributing Guide
description: How to contribute to Iron Frontier
---

import { Aside, Steps } from '@astrojs/starlight/components';

Thank you for your interest in contributing to Iron Frontier! This guide will help you get started.

## Code of Conduct

We are committed to providing a welcoming and inclusive environment. Please be respectful and constructive in all interactions.

## Getting Started

<Steps>

1. **Fork the repository**

   Click the "Fork" button on GitHub to create your own copy.

2. **Clone your fork**

   ```bash
   git clone https://github.com/YOUR_USERNAME/iron-frontier.git
   cd iron-frontier
   ```

3. **Set up the development environment**

   Follow the [Getting Started](/iron-frontier/guides/getting-started/) guide.

4. **Create a feature branch**

   ```bash
   git checkout -b feature/your-feature-name
   ```

</Steps>

## Development Workflow

### Before Making Changes

1. Check existing issues and PRs to avoid duplicate work
2. For significant changes, open an issue first to discuss
3. Pull the latest changes from `main`

### Making Changes

1. **Write code** following the project style
2. **Add tests** for new functionality
3. **Update documentation** if needed
4. **Run the full test suite** before committing

### Code Style

The project uses **Biome** for linting and formatting:

```bash
# Check for issues
pnpm lint

# Auto-fix issues
pnpm lint:fix

# Format code
pnpm format
```

<Aside type="tip">
  Set up your editor to format on save with Biome for the best experience.
</Aside>

### TypeScript Guidelines

- Use **strict mode** (already configured)
- Prefer **explicit types** over `any`
- Use **Zod schemas** for runtime validation of external data
- Document complex functions with JSDoc comments

```typescript
/**
 * Generates a procedural NPC for a location.
 * @param seed - World seed for deterministic generation
 * @param locationId - Target location ID
 * @param archetype - NPC archetype template
 * @returns Generated NPC data
 */
export function generateNPC(
  seed: number,
  locationId: string,
  archetype: NPCArchetype
): GeneratedNPC {
  // Implementation
}
```

### React Guidelines

- Use **functional components** with hooks
- Keep components **small and focused**
- Use **Zustand selectors** to prevent unnecessary re-renders
- Follow the "Reactylon" pattern for 3D components

```typescript
// Good: Selective subscription
const health = useGameStore((s) => s.player.health);

// Avoid: Subscribing to entire store
const store = useGameStore();
```

### Testing

Write tests for all new functionality:

```bash
# Run tests
pnpm test

# Run tests in watch mode
pnpm test -- --watch

# Run tests with coverage
pnpm test -- --coverage
```

Test file conventions:

- Place tests in `__tests__/` directories or alongside code with `.test.ts` suffix
- Use descriptive test names
- Test edge cases and error conditions

```typescript
describe('generateNPC', () => {
  it('should generate an NPC with the specified archetype', () => {
    const npc = generateNPC(12345, 'dusty_springs', 'merchant');
    expect(npc.role).toBe('merchant');
  });

  it('should generate deterministic results with same seed', () => {
    const npc1 = generateNPC(12345, 'dusty_springs', 'merchant');
    const npc2 = generateNPC(12345, 'dusty_springs', 'merchant');
    expect(npc1).toEqual(npc2);
  });
});
```

## Commit Messages

Use clear, descriptive commit messages:

```
feat: add procedural quest generation
fix: correct NPC pathfinding collision
docs: update architecture overview
test: add tests for encounter generator
refactor: simplify state management
```

Prefixes:

| Prefix | Use Case |
|--------|----------|
| `feat:` | New feature |
| `fix:` | Bug fix |
| `docs:` | Documentation only |
| `test:` | Adding or updating tests |
| `refactor:` | Code change that neither fixes a bug nor adds a feature |
| `chore:` | Build process or auxiliary tool changes |

## Pull Requests

### Before Submitting

1. **Ensure all tests pass**: `pnpm test`
2. **Ensure linting passes**: `pnpm lint`
3. **Ensure types check**: `pnpm typecheck`
4. **Ensure build succeeds**: `pnpm build`

### PR Description

Include in your PR description:

- **What** the change does
- **Why** the change is needed
- **How** it was implemented
- **Testing** performed
- **Screenshots** for UI changes

### Review Process

1. Maintainers will review your PR
2. Address any feedback with additional commits
3. Once approved, the PR will be merged

## Project Structure

When adding new features, place code in the appropriate location:

| Location | Content |
|----------|---------|
| `packages/shared/src/data/` | Game data, schemas, templates |
| `packages/shared/src/store/` | State management |
| `packages/shared/src/rendering/` | Rendering abstractions |
| `apps/web/src/game/` | Web-specific game code |
| `apps/web/src/components/` | UI components |
| `apps/mobile/src/` | Mobile-specific code |
| `apps/docs/src/content/` | Documentation pages |

## Documentation

Update documentation when:

- Adding new features
- Changing APIs
- Modifying architecture
- Adding configuration options

Documentation lives in `apps/docs/src/content/docs/`.

## Getting Help

If you need help:

1. Check the existing documentation
2. Search existing issues
3. Open a new issue with the "question" label
4. Join discussions on GitHub

## Recognition

All contributors will be recognized in the project. Thank you for helping make Iron Frontier better!

---

Ready to contribute? Check out the [open issues](https://github.com/jbogaty/iron-frontier/issues) to find something to work on.
