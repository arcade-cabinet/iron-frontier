---
title: API Reference
description: Auto-generated API documentation for @iron-frontier/shared
---

import { Aside } from '@astrojs/starlight/components';

This section contains auto-generated API documentation for the `@iron-frontier/shared` package.

<Aside type="note">
  API documentation is generated from TypeScript source files using TypeDoc. Run `pnpm build:typedoc` in the docs package to regenerate.
</Aside>

## Package Exports

The shared package provides several entry points:

### Main Entry (`@iron-frontier/shared`)

Re-exports from data, types, and generation modules. Use for convenience imports.

```typescript
import { Player, Quest, NPC, Item } from '@iron-frontier/shared';
```

### Data Module (`@iron-frontier/shared/data`)

Game data, schemas, locations, NPCs, and procedural generation.

```typescript
import {
  // Locations
  getLocation,
  getAllLocations,
  LocationLoader,

  // NPCs
  getNPCsByLocation,
  getDialogueTree,

  // Items
  getItemById,
  getWorldItemsForLocation,

  // Procedural Generation
  ProceduralLocationManager,
  generateNPC,
  generateQuest,
} from '@iron-frontier/shared/data';
```

### Store Module (`@iron-frontier/shared/store`)

State management with Zustand.

```typescript
import {
  createGameStore,
  StorageAdapter,
  defaultPlayerState,
  defaultInventoryState,
} from '@iron-frontier/shared/store';
```

### Hex Module (`@iron-frontier/shared/hex`)

Hex grid utilities for spatial calculations.

```typescript
import {
  HexCoord,
  HexGrid,
  axialToPixel,
  pixelToAxial,
  hexDistance,
} from '@iron-frontier/shared/hex';
```

### Rendering Module (`@iron-frontier/shared/rendering`)

Rendering abstraction layer interfaces.

```typescript
import {
  RenderingAdapter,
  SceneManagerBase,
  BabylonAdapter,
  FilamentAdapter,
} from '@iron-frontier/shared/rendering';
```

### Types Module (`@iron-frontier/shared/types`)

TypeScript type definitions.

```typescript
import type {
  PlayerState,
  InventoryState,
  Quest,
  NPC,
  Item,
  Location,
} from '@iron-frontier/shared/types';
```

## Core Types

### PlayerState

```typescript
interface PlayerState {
  id: string;
  name: string;
  level: number;
  experience: number;
  health: number;
  maxHealth: number;
  stamina: number;
  maxStamina: number;
  position: [number, number, number];
  heading: number;
  gold: number;
  reputation: Record<string, number>;
  equipment: EquipmentSlots;
}
```

### Quest

```typescript
interface Quest {
  id: string;
  title: string;
  description: string;
  status: 'active' | 'completed' | 'failed';
  objectives: QuestObjective[];
  rewards: QuestReward[];
  giver: string;
  location?: string;
}
```

### NPC

```typescript
interface NPC {
  id: string;
  name: string;
  role: NPCRole;
  faction?: string;
  location: string;
  position: [number, number, number];
  dialogueId?: string;
  schedule?: Schedule;
  inventory?: Item[];
}
```

### Item

```typescript
interface Item {
  id: string;
  name: string;
  description: string;
  type: ItemType;
  rarity: Rarity;
  value: number;
  stackable: boolean;
  maxStack?: number;
  stats?: ItemStats;
  effects?: ItemEffect[];
}
```

### Location

```typescript
interface Location {
  id: string;
  name: string;
  type: LocationType;
  description: string;
  region: string;
  position: [number, number];
  size: [number, number];
  dangerLevel: DangerLevel;
  structures: Structure[];
  npcs: NPCRef[];
  connections: LocationConnection[];
}
```

## Generation Functions

### generateNPC

Generate a procedural NPC from templates.

```typescript
function generateNPC(options: {
  seed: number;
  locationId: string;
  locationType: LocationType;
  archetype?: NPCArchetype;
}): GeneratedNPC;
```

### generateQuest

Generate a procedural quest from templates.

```typescript
function generateQuest(options: {
  seed: number;
  template: QuestTemplate;
  giver: NPC;
  location?: Location;
}): GeneratedQuest;
```

### generateEncounter

Generate a combat encounter.

```typescript
function generateEncounter(options: {
  seed: number;
  dangerLevel: DangerLevel;
  locationType: LocationType;
  playerLevel: number;
}): GeneratedEncounter;
```

## Store Actions

### Navigation

```typescript
interface NavigationActions {
  travelTo: (locationId: string) => void;
  completeTravel: () => void;
  cancelTravel: () => void;
}
```

### Inventory

```typescript
interface InventoryActions {
  addItem: (item: Item, quantity?: number) => void;
  removeItem: (itemId: string, quantity?: number) => void;
  equipItem: (itemId: string, slot: EquipmentSlot) => void;
  unequipItem: (slot: EquipmentSlot) => void;
}
```

### Combat

```typescript
interface CombatActions {
  startCombat: (encounter: Encounter) => void;
  endCombat: (result: CombatResult) => void;
  executeAction: (action: CombatAction) => void;
}
```

### Dialogue

```typescript
interface DialogueActions {
  startDialogue: (npcId: string) => void;
  selectOption: (optionId: string) => void;
  endDialogue: () => void;
}
```

---

<Aside type="tip">
  For the complete API documentation with all types, functions, and detailed descriptions, build the TypeDoc output by running `pnpm build:typedoc` in the docs package.
</Aside>
