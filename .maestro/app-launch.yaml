# App Launch Test - Iron Frontier
# Verifies app launches correctly and displays the main screen
# This test validates the splash screen animation and transition to title screen

appId: com.ironfrontier.mobile
name: "App Launch Test"
tags:
  - smoke
  - launch

---

# Launch the app
- launchApp:
    appId: com.ironfrontier.mobile
    clearState: true

# Wait for app to initialize (WebGPU takes time)
- extendedWaitUntil:
    visible: "IRON FRONTIER"
    timeout: 15000

# Verify splash screen elements appear
# The splash shows rotating gears and "Loading Steam..." text
- assertVisible:
    text: "IRON FRONTIER"

# Take screenshot of splash/title screen
- takeScreenshot: screenshots/01_app_launch_title

# Wait for main menu to appear after splash animation (2.5s splash duration)
- extendedWaitUntil:
    visible: "Tales of the Steam Frontier"
    timeout: 10000

# Verify main menu tagline is visible
- assertVisible:
    text: "Tales of the Steam Frontier"

# Verify the main action button is present
# Could be "Begin Adventure" (fresh) or "Continue as [name]" (has save)
- assertVisible:
    text: ".*Adventure|.*Continue|.*New Game.*"
    regex: true

# Take screenshot of main menu
- takeScreenshot: screenshots/02_main_menu_loaded

# Verify About button is accessible
- assertVisible:
    text: "About"

# Test passes if we reach here - app launched successfully
- runScript:
    script: |
      console.log('App launch test completed successfully');
      output.launchSuccess = true;
